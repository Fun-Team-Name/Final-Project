<!DOCTYPE html>
{% load staticfiles %}
<html ng-app = "myApp"   ng-controller="homepageCtrl" >
<head>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
  <link rel="stylesheet" href= "{% static '/css/styles.css' %}" >
  <!-- <link rel="stylesheet" href= " ../css/styles.css" > -->
  <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.8/angular-material.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.8/angular-material.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-animate.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-aria.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-messages.min.js"></script>
  <script src = "{% static '/controllers/homepageCtrl.js' %}"></script>
  <!-- <script src = " ../controllers/homepageCtrl.js"></script> -->
  <title>Log In</title>
</head>
<body class="loginPage">
    <div layout="column" class="loginPage">
      <md-content layout-padding style="background-color:cadetblue;padding:90px 0" >
        <h1 style="color:white;text-align: center">Please Sign In: </h1>
        <div class="boxWithShadow" style="background-color:white;width:50%;margin:auto;border-radius:25px">
          <div>
            <md-content>
                <md-tabs md-dynamic-height md-border-bottom>
                  <md-tab label="student">
                      <form name="loginFormStudent">
                        <md-input-container>
                          <label>State:</label>
                          <md-select ng-model="state">
                            <md-option ng-repeat="state in stateList" ng-value="state.abbrev">
                              {{state.abbrev}}
                            </md-option>
                          </md-select>
                        </md-input-container>
                        <md-input-container>
                            <label>&nbsp;County:</label>
                            <md-select ng-model="county">
                              <md-option ng-repeat="county in countyList" ng-value="county.abbrev">
                                {{county.abbrev}}
                              </md-option>
                            </md-select>
                        </md-input-container>
                        <md-input-container>
                          <label>Username: </label>
                          <input ng-model="username" required autofocus="autofocus">
                        </md-input-container>
                        <br>
                        <md-input-container>
                          <label>Password:  </label>
                          <input ng-model="password" type="password" required>
                        </md-input-container>
                        <h6 style="color:red;text-align:center" ng-show="invalidLogin == true">Invalid Login. Try Again.</h6>
                        <br>
                        <md-button type="submit" class="md-raised md-primary" ng-disabled="loginFormStudent.$invalid" ng-click="login()" value="Log In">Log In</md-button>
                      </form>
                </md-tab>
                <md-tab label="teacher">

                  {% block content %}

                {% if form.errors %}
                    <p>Your username and password didn't match. Please try again.</p>
                  {% endif %}

                  {% if next %}
                    {% if user.is_authenticated %}
                      <p>Your account doesn't have access to this page. To proceed,
                      please login with an account that has access.</p>
                    {% else %}
                      <p>Please login to see this page.</p>
                    {% endif %}
                  {% endif %}



                  <form class = "form-style" method="post" action=" {% url 'login' %} ">


<div >

                            {% csrf_token %}
  <md-input-container>
    <!-- <label>Email </label> -->
    <td>{{ form.username.label_tag }}</td>
          <td>          {{form.username}}</td>
  </md-input-container>
  <br>
      <md-input-container>
            <!-- <label>Password </label> -->
            <td>{{ form.password.label_tag }}</td>
              <td>{{ form.password }}</td>
  </md-input-container>
                  </div>
    <div class = "for-btn">

                    <input  type="submit"style = "background-color: DarkBlue;" value="Log In" /> <md-button style = "min-height: 10px;
                    min-width: 78px;background-color: DarkBlue; color:white;" ng-click="goto('signup')" value="Sign Up">Sign Up</md-button>
                    <input type="hidden" class="md-raised md-primary" name="next" value="{{ next }}" />
                  </div>
                  </form>

                  {# Assumes you setup the password_reset view in your URLconf #}
                  <p><a href="{% url 'password_reset' %}">Lost password?</a></p>




                  {% endblock %}

                </md-tab>
                </md-tabs>
             </md-content>
          </div>
        </div>
      </md-content>
    </div>
  </body>
  <footer class="footer">
    <p>This site is a work in progress. Please pardon the dust! </p>
    <p>Click <a href="https://github.com/Fun-Team-Name/Final-Project" target="_blank" style="color:blue;text-decoration:underline">here</a> to visit our git repository.</p>
  </footer>
</html>
